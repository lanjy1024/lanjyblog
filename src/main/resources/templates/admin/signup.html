<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="_fragments::head(~{::title})">
    <meta charset="UTF-8">
    <!-- 移动端预览设置 -->
    <meta name="vireport" content="width=device-width,initial-scale=1.0">
    <title>LANJYBLOG账户注册</title>
    <link rel="stylesheet" href="../../static/lib/Semantic/semantic.min.css">
    <link rel="stylesheet" href="../../static/css/index.css">
    <script src="../../static/js/jquery-2.1.1.min.js"></script>
    <script src="../../static/lib/Semantic/semantic.min.js"></script>

</head>
<body class="m-bg">

<br>
<br>
<br>
<br>
<br>



<div class="m-container-sm m-padded-tb-massive stackable" style="max-width: 40em !important;">
    <div class="ur container">
        <div class="ui middle aligned center aligned grid stackable">
            <div class="column">
                <h2 class="ui teal image header">
                    <!--<img src="login.html" class="image">-->
                    <div class="content">
                        BLOG博客账户注册
                    </div>
                </h2>
                <form class="ui large form" method="post" action="#" th:action="@{/admin/signup}">
                    <div class="ui stacked segment">
                        <div class="field">
                            <div class="ui left icon input">
                                <i class="user icon"></i>
                                <input type="text" name="username" placeholder="请输入用户名">
                            </div>
                        </div>
                        <div class="field">
                            <div class="ui left icon input">
                                <i class="user icon"></i>
                                <input type="text" name="nickName" placeholder="请输入昵称">
                            </div>
                        </div>
                        <div class="field">
                            <div class="ui left icon input">
                                <i class="eye slash icon"></i>
                                <input type="password" name="password" placeholder="请输入登录密码">
                            </div>
                        </div>
                        <div class="field">
                            <div class="ui left icon input">
                                <i class="eye slash icon"></i>
                                <input type="password" name="password1" placeholder="确认密码">
                            </div>
                        </div>
                        <!--<div class="field">
                            <div class="ui left icon input">
                                <i class="envelope icon"></i>
                                <input type="email" name="email" placeholder="请输入邮箱">
                            </div>
                        </div>-->
                        <button class="ui fluid large teal submit button">注册</button>
                    </div>
                    <div class="ui error mini message"></div>
                    <div class="ui mini negative message" th:unless="${#strings.isEmpty(message)}" th:text="${message}">
                        用户名已存在
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<script>
    //    添加自定义规则
    // custom 表单验证 rule
    $.fn.form.settings.rules.passwordConfirm = function(passwordConfirm) {
        var password = $("[name='password']").val();
        var password1 = $("[name='password1']").val();

        return password === password1;
    };
    $('.ui.form')
        .form({
            username: {
                identifier  : 'username',
                rules: [
                    {
                        type   : 'empty',
                        prompt : '请输入用户名'
                    }
                ]
            },
            nickName: {
                identifier  : 'nickName',
                    rules: [
                    {
                        type   : 'empty',
                        prompt : '请输入昵称'
                    },
                    {
                        type   : 'maxLength[6]',
                        prompt : '该昵称过长'
                    }
                ]
            },
            password: {
                identifier : 'password',
                rules: [
                    {
                        type   : 'empty',
                        prompt : '请输入密码'
                    },
                    {
                        type   : 'maxLength[6]',
                        prompt : '密码长度不能超过6位数'
                    }
                ]
            },
            password1: {
                identifier : 'password1',
                    rules: [
                    {
                        type   : 'passwordConfirm',
                        prompt : '确认密码输入有误'
                    }
                ]
            }
        })
    ;
</script>
</body>
</html>